Bootstrap:docker
From:ubuntu:18.04

%post

  # preliminary
  apt-get update
  apt-get install -y software-properties-common
  add-apt-repository universe

  # misc
  apt-get update
  apt-get install -y openjdk-8-jre
  apt-get install -y git
  apt-get install -y build-essential libcurl4-gnutls-dev libxml2-dev libssl-dev
  apt-get install -y libxslt1-dev
  apt-get install -y wget
  apt-get install -y gfortran
  apt-get install -y cmake
  apt-get install -y sed
  apt-get install -y libfontconfig1-dev
  apt-get install -y libharfbuzz-dev libfribidi-dev
  apt-get install -y libfreetype6-dev libpng-dev libtiff5-dev libjpeg-dev

  # R
  wget -qO- https://cloud.r-project.org/bin/linux/ubuntu/marutter_pubkey.asc | tee -a /etc/apt/trusted.gpg.d/cran_ubuntu_key.asc
  add-apt-repository 'deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/'
  apt-get update
  apt-get install -y r-base

  # SticRPacks
  R --slave -e 'install.packages("devtools")'
  export GITHUB_PAT=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
  R --slave -e 'devtools::install_github("mkvakic-srce/SticsOnR")'
  R --slave -e 'devtools::install_github("SticsRPacks/SticsRFiles")'
  R --slave -e 'devtools::install_github("SticsRPacks/CroptimizR")'
  R --slave -e 'devtools::install_github("SticsRPacks/CroPlotR")'
